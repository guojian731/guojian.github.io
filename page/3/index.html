<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/guojian731.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/guojian731.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/guojian731.github.io/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/guojian731.github.io/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/guojian731.github.io/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/guojian731.github.io/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/guojian731.github.io/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Notes">
<meta property="og:url" content="https://guojian731.github.io/guojian731.github.io/page/3/index.html">
<meta property="og:site_name" content="Notes">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Notes">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/guojian731.github.io/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://guojian731.github.io/guojian731.github.io/page/3/"/>





  <title>Notes</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/guojian731.github.io/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/guojian731.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/guojian731.github.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/guojian731.github.io/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/guojian731.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/JVM-3-字符串的存储方式以及equals、intern、-之间的区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/JVM-3-字符串的存储方式以及equals、intern、-之间的区别/" itemprop="url">JVM-3-字符串的存储方式以及equals、intern、==之间的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T17:59:40+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a>知识点：</h1><p><strong>在jvm中，字符串有着非常“高等的地位”。在1.7以后，堆空间分为字符串常量池（也有叫做缓冲区）和非字符串常量池。</strong></p>
<p><strong>字符串常量池：用来存储字符串的字面量。</strong></p>
<p><strong>非字符串常量池：存储字符串对象以及其他普通的对象。</strong></p>
<h1 id="为什么要有字符串常量池："><a href="#为什么要有字符串常量池：" class="headerlink" title="为什么要有字符串常量池："></a>为什么要有字符串常量池：</h1><p><strong>字符串的分配，和其他的对象分配一样，耗费高昂的时间与空间代价。JVM为了提高性能和减少内存开销，在实例化字符串常量的时候进行了一些优化。为了减少在JVM中创建的字符串的数量，字符串类维护了一个字符串池，每当代码创建字符串常量时，JVM会首先检查字符串常量池。如果字符串已经存在池中，就返回池中的实例引用。如果字符串不在池中，就会实例化一个字符串并放到池中。Java能够进行这样的优化是因为字符串是不可变的，可以不用担心数据冲突进行共享。</strong></p>
<h1 id="字符串的创建方式："><a href="#字符串的创建方式：" class="headerlink" title="字符串的创建方式："></a>字符串的创建方式：</h1><p><strong>字符串有两种创建方式，一种是通过双引号直接赋值和通过构造器来创建。</strong></p>
<h2 id="双引号赋值："><a href="#双引号赋值：" class="headerlink" title="双引号赋值："></a>双引号赋值：</h2><p>String s1=”11”;<br>创建一个对象的时候，会判断字符串常量池是否会有”11”，没有在字符串常量池添加”11”，并在非字符串常量池创建String对象，这时s1变量是指向字符串常量的”11”的。</p>
<h2 id="构造器创建："><a href="#构造器创建：" class="headerlink" title="构造器创建："></a>构造器创建：</h2><p>String s2=new String(“11”);</p>
<p>创建对象，并不会在字符串常量池进行操作，只会在非字符串常量池建立对象，s2指向指向这个对象。</p>
<p><img src="/guojian731.github.io/2017/12/11/JVM-3-字符串的存储方式以及equals、intern、-之间的区别/jvm1.png" alt="jvm内部构成表"></p>
<p>所以再用“==”判断的时候是false，因为两个变量的指向是不一样的。</p>
<h1 id="equals、-、intern-之间的区别"><a href="#equals、-、intern-之间的区别" class="headerlink" title="equals、==、intern()之间的区别"></a>equals、==、intern()之间的区别</h1><p>equals：是父类Object的方法，String重类写了这一方法，判断是否是首先判断是否是同一对象，是的话返回true。接着判断是否是String类型、如果是再判断是否值相同。<br>==：判断两个对象是否是同一对象，即两个对象的指向是否相同。<br>intern()：其实并不是用来判断是否相等的用途，它是在非字符串常量池添加字面量，所以他通常和new String()结合使用，可以在非字符串常量池建立变量并且指向它。<br>实例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String s1=<span class="string">"ab"</span>;</span><br><span class="line">String s2=<span class="string">"abcd"</span>;</span><br><span class="line">String s3=<span class="string">"ab"</span>+<span class="string">"cd"</span>;</span><br><span class="line">String s4=s1+<span class="string">"cd"</span>;</span><br><span class="line">         </span><br><span class="line">System.out.println(<span class="string">"----第一部分  ----"</span>);</span><br><span class="line">System.out.println(s2==s3);<span class="comment">//true</span></span><br><span class="line">System.out.println(s2==s3.intern());<span class="comment">//true</span></span><br><span class="line">System.out.println(s2.intern()==s3);<span class="comment">//true</span></span><br><span class="line">         </span><br><span class="line">System.out.println(<span class="string">"---- 第二部分 ----"</span>);</span><br><span class="line">System.out.println(s2==s4);<span class="comment">//false</span></span><br><span class="line">System.out.println(s2==s4.intern());<span class="comment">//true</span></span><br><span class="line">System.out.println(s2.intern()==s4);<span class="comment">//false</span></span><br><span class="line">System.out.println(<span class="string">"---- 第三部分 ----"</span>);</span><br><span class="line">System.out.println(s3==s4);<span class="comment">//false</span></span><br><span class="line">System.out.println(s3==s4.intern());<span class="comment">//true</span></span><br><span class="line">System.out.println(s3.intern()==s4);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h2 id="第一部分解析："><a href="#第一部分解析：" class="headerlink" title="第一部分解析："></a>第一部分解析：</h2><p>1、当String由两个字面量相加的时候，会判断字符串常量池，所以全是true。</p>
<h2 id="第二部分解析："><a href="#第二部分解析：" class="headerlink" title="第二部分解析："></a>第二部分解析：</h2><p>1、当String是变量和字面量相加的时候，不会在字符串常量池进行判断，所以两个对象指向不同，false。<br>2、对s4这个对象进行intern()操作时，它会在字符串常量池进行判断，如果有的话，那么他不添加，没有的话就添加，所以为true。但是，记住即使s4.intern()不会改变s4的指向，他的指向还在非字符串常量池。如果想改变s4的指引的话，需要赋值。s4=s4.intern();所以说intern()应该跟new String(）结合使用，即 String s4=new String(“abcd”).intern()要不还需要有赋值的操作。<br>3、还是如二所说，s4的指向还是非字符串常量池，所以不相等。</p>
<h2 id="第三部分解析："><a href="#第三部分解析：" class="headerlink" title="第三部分解析："></a>第三部分解析：</h2><p>根据第二部分自己看吧~</p>
<p><strong>注：在字符串尽量少使用 String ss=”ab”+”cd”这样的操作，因为这样的操作如同新建了StringBuilder，然后进行append，这好像并没有什么不妥，但是要记住，当你要遍历时，每次都会新建一个StringBuilder，这样很浪费资源。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/JVM-2-常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/JVM-2-常用命令/" itemprop="url">JVM-2-常用命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T17:48:41+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="堆内存设定"><a href="#堆内存设定" class="headerlink" title="堆内存设定"></a>堆内存设定</h1><p>-Xmx ：最大堆内存</p>
<p>-Xms ：初始堆内存 </p>
<h1 id="占空间设定"><a href="#占空间设定" class="headerlink" title="占空间设定"></a>占空间设定</h1><p>-Xss ：指定线程最大栈空间</p>
<h1 id="方法区："><a href="#方法区：" class="headerlink" title="方法区："></a>方法区：</h1><p><strong>理解为永久区perm，在jdk1.6和1.7中存在，在1.8中剔除</strong></p>
<p>-XX:PermSize：初始化方法区。</p>
<p>-XX:MaxPermSize:最大方法区：默认情况为64M</p>
<h1 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h1><p>-XX:+PrintGC 打印gc日志</p>
<p>-XX:+PrintGCDetails  打印详细的gc日志</p>
<p>-XX:+PrintHeapAtGC 在每次GC前后分别打印堆的信息。</p>
<p>-XX:+PrintGCTimeStamps 该参数会在每个GC发生时，额外的输出GC发生的时间，该输出时间为虚拟机启动后的时间偏移量。</p>
<p>-XX:+PrintGCApplicationConcurrentTime 打印应用程序的执行时间</p>
<p>-XX:+PrintGCApplicationStoppedTime 打印应用程序由于GC而产生的停顿时间。</p>
<p>-XX:+PrintReferenceGC 跟踪系统中软引用、弱引用、虚引用和Finallize队列。</p>
<p>-Xloggc:log/gc.log  在当前目录下的log文件夹下的log文件夹下的gc.log文件中记录所有的GC日志。</p>
<h1 id="类加载-卸载的跟踪"><a href="#类加载-卸载的跟踪" class="headerlink" title="类加载/卸载的跟踪"></a>类加载/卸载的跟踪</h1><p>-verbose:class 跟踪类的加载和卸载</p>
<p>-XX:+TranceClassLoading 跟踪类的加载</p>
<p>-XX:+TranceClassUnloading 跟踪类的卸载</p>
<p>Java虚拟机还允许研发人员在运行时打印、查看系统中类的分布情况。只要在系统中启动时加上-XX:+PrintClassHistogram参数，然后在Java的控制台中按下Ctrl+Break组合键，控制台上就会显示当前的类信息柱状图。</p>
<h1 id="系统参数查看："><a href="#系统参数查看：" class="headerlink" title="系统参数查看："></a>系统参数查看：</h1><p>-XX:+PrintVMOptions 在程序运行时，打印虚拟机接收到的命令行显示参数。</p>
<p>-XX:+PrintCommandLineFlags 可以打印传递给虚拟机的显示和隐示参数。</p>
<p>-XX:+PrintFlagsFinal 打印所有的系统参数的值（大约有500多个）</p>
<h1 id="新生代配置："><a href="#新生代配置：" class="headerlink" title="新生代配置："></a>新生代配置：</h1><p>-Xmn 用于设置新生代的大小。新生代大小一般设置为整个堆空间的1/3到1/4之间。(-Xmn1m)</p>
<p>-XX:SurvivorRatio=eden/from=eden/to 设置新生代中eden空间和from/to空间的比例关系。</p>
<p>（-XX:SurvivorRatio=2 新生代内存有10m，那么eden区的内存即为5m）</p>
<p>-XX:NewRatio=老年代/新生代 设置新生代和老年代的比例（与-Xmn区别是一个是设置新生代绝对大小，一个是根据比例设置）</p>
<h1 id="堆溢出处理："><a href="#堆溢出处理：" class="headerlink" title="堆溢出处理："></a>堆溢出处理：</h1><p>-XX:+HeapDumpOnOutOfMemoryError 在内存溢出时到处整个堆信息。</p>
<p>-XX:+HeapDumpPath:d:/a.dmp 和-XX:+HeapDumpOnOutOfMemoryError配合使用，导出堆的存放路径。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/JVM-1-内部构成/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/JVM-1-内部构成/" itemprop="url">JVM-1-内部构成</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T17:41:06+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/guojian731.github.io/2017/12/11/JVM-1-内部构成/jvm-内部构成表.png" alt="jvm内部构成表"></p>
<h1 id="类加载子系统："><a href="#类加载子系统：" class="headerlink" title="类加载子系统："></a>类加载子系统：</h1><p><strong>类加载子系统是负责从文件系统或者网络中加载class信息。（class信息，是已经编译过的java文件，所以这也就是为什么我们在linux系统上，需要上传WebRoot文件或者用ant编译工具进行编译）</strong></p>
<h1 id="方法区："><a href="#方法区：" class="headerlink" title="方法区："></a>方法区：</h1><p><strong>加载的类信息放在方法区中的内存空间中，除了类的基本信息之外，还保存了运行时常量池信息，包括字符串字面量和数字常量。</strong></p>
<h1 id="java堆："><a href="#java堆：" class="headerlink" title="java堆："></a>java堆：</h1><p><strong>java堆是在虚拟机启动的时候建立，是java程序中最主要的内存工作区域。几乎所有的java对象都会放在java堆中。堆空间所有线程共享。</strong></p>
<h1 id="直接内存："><a href="#直接内存：" class="headerlink" title="直接内存："></a>直接内存：</h1><p><strong>java的NIO库允许java程序使用直接内存，直接内存是在java堆外、直接向系统申请的内存空间，所以它的大小不会直接受限于Xmx指定的最大堆大小。但是系统的内存是有限的，所以java堆内存和直接内存的总和受限于操作系统内存的大小。</strong></p>
<h1 id="java栈："><a href="#java栈：" class="headerlink" title="java栈："></a>java栈：</h1><p><strong>每一个虚拟机线程都会有一个私有的java栈。一个线程的java栈在线程创建的时候被创建，java栈中保存着帧信息，java栈中保存着局部变量、方法参数、同时与方法的调用、返回密切相关。</strong></p>
<h1 id="PC寄存器："><a href="#PC寄存器：" class="headerlink" title="PC寄存器："></a>PC寄存器：</h1><p><strong>也是每个线程的私有空间，java虚拟机会为每一个java线程穿件PC寄存器。在任意时刻，一个java线程总是执行一个方法，这个正在被执行的方法成为当前方法。如果当前方法不是本地方法，PC寄存器就会指向当前正在被执行的指令。如果当前方法是本地方法，那么PC寄存器的值就是undifined。</strong></p>
<h1 id="执行引擎："><a href="#执行引擎：" class="headerlink" title="执行引擎："></a>执行引擎：</h1><p><strong>是java虚拟机最核心的组件之一，它负责执行虚拟机的字节码。现代虚拟机为了提高执行效率，会使用即使编译技术讲方法编译成机器码后再执行。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/java-利用注解完成字典表对应数据/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/java-利用注解完成字典表对应数据/" itemprop="url">java-利用注解完成字典表对应数据</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T17:33:56+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="设计思路："><a href="#设计思路：" class="headerlink" title="设计思路："></a>设计思路：</h1><p><strong>1、首先将字典表的数据以Map的形式进行初始化，key格式为type+”@”+code,value值为正常回显的值，如”ta_sex”+”@”+”1”, “男”</strong></p>
<p><strong>2、建立DictAcc注解，code代表是数据库字段还是需要回显的标识，type存储类型如ta_sex</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Target</span>(ElementType.FIELD)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> DictACC &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">code</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">type</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>3.建立一个类BV，code表示数据库存储的名字，name表示需要回显的名字</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BV</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String code=<span class="string">"code"</span>;    </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String name=<span class="string">"name"</span>;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>4.在pojo中字段sex，再建立sex_n表示要回显的字段（_n必须对应）</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@DictACC</span>(code = BV.code, type = <span class="string">"ta_orgType"</span>)</span><br><span class="line">    <span class="keyword">public</span> String orgType=<span class="string">"1"</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@DictACC</span>(code = BV.name, type = <span class="string">"ta_orgType"</span>)</span><br><span class="line">    <span class="keyword">public</span> String orgType_n;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@DictACC</span>(code = BV.code, type = <span class="string">"ta_sex"</span>)</span><br><span class="line">    <span class="keyword">public</span> String sex=<span class="string">"1"</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@DictACC</span>(code = BV.name, type = <span class="string">"ta_sex"</span>)</span><br><span class="line">    <span class="keyword">public</span> String sex_n;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getOrgType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> orgType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOrgType</span><span class="params">(String orgType)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orgType = orgType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getOrgType_n</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> orgType_n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOrgType_n</span><span class="params">(String orgType_n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orgType_n = orgType_n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex_n</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex_n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex_n</span><span class="params">(String sex_n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex_n = sex_n;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>5.代码如下：map相当与数据库中取出来的数据库字典表</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalArgumentException, IllegalAccessException </span>&#123;</span><br><span class="line">        </span><br><span class="line">        HashMap&lt;String, String&gt; map=<span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">        </span><br><span class="line">        map.put(<span class="string">"ta_orgType"</span>+<span class="string">"@"</span>+<span class="string">"1"</span>, <span class="string">"部门1"</span>);</span><br><span class="line">        map.put(<span class="string">"ta_orgType"</span>+<span class="string">"@"</span>+<span class="string">"2"</span>, <span class="string">"部门2"</span>);</span><br><span class="line">        map.put(<span class="string">"ta_orgType"</span>+<span class="string">"@"</span>+<span class="string">"3"</span>, <span class="string">"部门3"</span>);</span><br><span class="line">        </span><br><span class="line">        map.put(<span class="string">"ta_sex"</span>+<span class="string">"@"</span>+<span class="string">"1"</span>, <span class="string">"男"</span>);</span><br><span class="line">        map.put(<span class="string">"ta_sex"</span>+<span class="string">"@"</span>+<span class="string">"2"</span>, <span class="string">"女"</span>);</span><br><span class="line">        </span><br><span class="line">        User user=<span class="keyword">new</span> User();</span><br><span class="line">        User user1=<span class="keyword">new</span> User();</span><br><span class="line">        </span><br><span class="line">        List&lt;User&gt; userList=<span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">        userList.add(user);</span><br><span class="line">        userList.add(user1);</span><br><span class="line">        Doaction.fill(userList,map);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; userList.size(); i++) &#123;</span><br><span class="line">            System.out.println(userList.get(<span class="number">0</span>).getOrgType_n());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>6.利用反射完成对sex_n等赋值</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Doaction</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">fill</span><span class="params">(List&lt;T&gt; pojoList, HashMap&lt;String, String&gt; dictmap)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> IllegalArgumentException, IllegalAccessException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Map&lt;String, Field&gt;&gt; map = getDictMap(pojoList.get(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Field&gt; codeMap = map.get(<span class="string">"codeMap"</span>);</span><br><span class="line">        Map&lt;String, Field&gt; nameMap = map.get(<span class="string">"nameMap"</span>);</span><br><span class="line">        <span class="keyword">for</span> (T pojo:pojoList) &#123;</span><br><span class="line">            fillname(pojo, codeMap, nameMap, dictmap);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取带DictACC字典注解的字段，并拼接成Map </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> t</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Map&lt;String, Map&lt;String, Field&gt;&gt; getDictMap(T t) &#123;</span><br><span class="line">        <span class="comment">//字典code值组成的Map</span></span><br><span class="line">        Map&lt;String, Field&gt; codeMap = <span class="keyword">new</span> HashMap&lt;String, Field&gt;();</span><br><span class="line">        <span class="comment">//需要从code值转成value组成的Map</span></span><br><span class="line">        Map&lt;String, Field&gt; nameMap = <span class="keyword">new</span> HashMap&lt;String, Field&gt;();</span><br><span class="line">        List&lt;Field&gt; fieldlist =<span class="keyword">new</span> ArrayList&lt;Field&gt;();</span><br><span class="line">        <span class="comment">//获取父类的所有field</span></span><br><span class="line">        fieldlist.addAll(Arrays.asList(t.getClass().getSuperclass().getDeclaredFields()));</span><br><span class="line">        <span class="comment">//获取本类的所有field</span></span><br><span class="line">        fieldlist.addAll(Arrays.asList(t.getClass().getDeclaredFields()));</span><br><span class="line">        <span class="keyword">for</span> (Field field : fieldlist) &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.getAnnotation(DictACC.class) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                DictACC ann = field.getAnnotation(DictACC.class);</span><br><span class="line">                <span class="keyword">if</span> (ann.code().equals(BV.code)) &#123;</span><br><span class="line">                    codeMap.put(ann.type() + <span class="string">"@"</span> + field.getName(), field);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ann.code().equals(BV.name)) &#123;</span><br><span class="line">                    nameMap.put(ann.type() + <span class="string">"@"</span> + field.getName(), field);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String, Map&lt;String, Field&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;String, Map&lt;String, Field&gt;&gt;();</span><br><span class="line">        map.put(<span class="string">"codeMap"</span>, codeMap);</span><br><span class="line">        map.put(<span class="string">"nameMap"</span>, nameMap);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">fillname</span><span class="params">(T t, Map&lt;String, Field&gt; codeMap,</span></span></span><br><span class="line"><span class="function"><span class="params">            Map&lt;String, Field&gt; nameMap, HashMap&lt;String, String&gt; dictmap)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> IllegalArgumentException, IllegalAccessException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;String, Field&gt; entry : nameMap.entrySet()) &#123;</span><br><span class="line">            <span class="comment">//获取codekey</span></span><br><span class="line">            String codeKey = entry.getKey().substring(<span class="number">0</span>,</span><br><span class="line">                    entry.getKey().length() - <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">if</span> (codeMap.get(codeKey) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                Field field = codeMap.get(codeKey);</span><br><span class="line">                <span class="comment">//获取code的值</span></span><br><span class="line">                String value = String.valueOf(field.get(t));</span><br><span class="line">                String targetKey = codeKey.split(<span class="string">"@"</span>)[<span class="number">0</span>] + <span class="string">"@"</span> + value;</span><br><span class="line">                <span class="keyword">if</span> (dictmap.containsKey(targetKey)) &#123;</span><br><span class="line">                    <span class="comment">//从字典表获取那么中应该存的值</span></span><br><span class="line">                    String targetValue = dictmap.get(targetKey);</span><br><span class="line">                    Field targetField = entry.getValue();</span><br><span class="line">                    targetField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                    <span class="comment">//给name赋值</span></span><br><span class="line">                    targetField.set(t, targetValue);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/mybatis-xml文件解释/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/mybatis-xml文件解释/" itemprop="url">mybatis-xml文件解释</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T17:26:38+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="mybatis将表的属性用resultMap表示"><a href="#mybatis将表的属性用resultMap表示" class="headerlink" title="mybatis将表的属性用resultMap表示"></a>mybatis将表的属性用resultMap表示</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"com.model.TMarine"</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"ID"</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"ADDRESS"</span> <span class="attr">property</span>=<span class="string">"address"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"AREA_ID"</span> <span class="attr">property</span>=<span class="string">"areaId"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"CONTACT"</span> <span class="attr">property</span>=<span class="string">"contact"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"CREATE_TIME"</span> <span class="attr">property</span>=<span class="string">"createTime"</span> <span class="attr">jdbcType</span>=<span class="string">"TIMESTAMP"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"FAX"</span> <span class="attr">property</span>=<span class="string">"fax"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"FIRST_LETTER"</span> <span class="attr">property</span>=<span class="string">"firstLetter"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"IS_DEL"</span> <span class="attr">property</span>=<span class="string">"isDel"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"IS_MODABLE"</span> <span class="attr">property</span>=<span class="string">"isModable"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"IS_ORGAN"</span> <span class="attr">property</span>=<span class="string">"isOrgan"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"LEVEL_ID"</span> <span class="attr">property</span>=<span class="string">"levelId"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"MARINE_CODE"</span> <span class="attr">property</span>=<span class="string">"marineCode"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"MARINE_NAME"</span> <span class="attr">property</span>=<span class="string">"marineName"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"PHONE"</span> <span class="attr">property</span>=<span class="string">"phone"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"POSTCODE"</span> <span class="attr">property</span>=<span class="string">"postcode"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"UPDATE_TIME"</span> <span class="attr">property</span>=<span class="string">"updateTime"</span> <span class="attr">jdbcType</span>=<span class="string">"TIMESTAMP"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"PID"</span> <span class="attr">property</span>=<span class="string">"pid"</span> <span class="attr">jdbcType</span>=<span class="string">"INTEGER"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>resultMap中的id标签，作为唯一表示。</p>
<h1 id="套用sql，常将表的属性分隔。"><a href="#套用sql，常将表的属性分隔。" class="headerlink" title="套用sql，常将表的属性分隔。"></a>套用sql，常将表的属性分隔。</h1><pre><code class="xml">
<span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"Base_Column_List"</span> &gt;</span>

ID, ADDRESS, AREA_ID, CONTACT, CREATE_TIME, FAX, FIRST_LETTER, IS_DEL, IS_MODABLE,

IS_ORGAN, LEVEL_ID, MARINE_CODE, MARINE_NAME, PHONE, POSTCODE, UPDATE_TIME, PID

<span class="tag">&lt;/<span class="name">sql</span>&gt;</span>

<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectByPrimaryKey"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span> <span class="attr">parameterType</span>=<span class="string">"java.lang.Integer"</span> &gt;</span>

select

<span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"Base_Column_List"</span> /&gt;</span>

from t_marine

where ID = #{id,jdbcType=INTEGER}

<span class="tag">&lt;/<span class="name">select</span>&gt;</span>
</code></pre>
<h1 id="，-的区别"><a href="#，-的区别" class="headerlink" title="#{}，${} 的区别"></a>#{}，${} 的区别</h1><p>#{} JDBC preparedstatement参数的占位符标志，可以防止sql注入</p>
<p>${} 仅仅是字符串替换，而且有sql注入的危险</p>
<p>prepareStatement会先初始化SQL，先把这个SQL提交到数据库中进行预处理，多次使用可提高效率。  </p>
<p>createStatement不会初始化，没有预处理，没次都是从0开始执行SQL</p>
<h1 id=""><a href="#" class="headerlink" title=""></a><where></where></h1><p>有时查询有条件，有时没有条件，用where可以根据情况判断是否用where，并删除多余的and</p>
<h1 id="-1"><a href="#-1" class="headerlink" title=""></a><set></set></h1><p>用<set></set>根据判断，可以设定update具体修改哪些字段，而不需要全部修改，比如用户表里有creatTime表示添加时间并且有值，但是在修改的表单提交没有将creatTime添加进去，这样整体update就会将createTime变成空。使用<set>标签还可以自动去掉修改最后的逗号。</set></p>
<h1 id="-2"><a href="#-2" class="headerlink" title=""></a><trim></trim></h1><p>实例：</p>
<pre><code class="xml">
<span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">"("</span> <span class="attr">suffix</span>=<span class="string">")"</span> <span class="attr">suffixOverrides</span>=<span class="string">","</span>&gt;</span>



<span class="tag">&lt;/<span class="name">trim</span>&gt;</span>
</code></pre>
<p>在语句之前加入“(”,在末尾加入”)”,并去掉最后一个逗号。</p>
<h1 id="resultMap-和-resultType-的区别"><a href="#resultMap-和-resultType-的区别" class="headerlink" title="resultMap 和 resultType 的区别"></a>resultMap 和 resultType 的区别</h1><p>resultType和resultMap 均指返回类型，resultType是直接表示返回类型的，而resultMap则是对外部ResultMap的引用，但是resultType跟resultMap不能同时存在。</p>
<p>个人理解：当你的数据只是想单纯的返回一个map，用resultType=”java.util.HashMap”,如果想返回一个对象或者一个对象的列表，resultMap=”BaseResultMap”,BaseResultMap是一个映射，即表的属性。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/Linux-安装tomcat7时遇到的情况/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/Linux-安装tomcat7时遇到的情况/" itemprop="url">Linux-安装tomcat7时遇到的情况</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T15:26:23+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先我们需要在linux上安装jdk，<a href="http://guojian.fun/2017/12/11/linux-%E5%AE%89%E8%A3%85jdk1-8/" target="_blank" rel="noopener">linux-centOS7下安装jdk1.8</a>。</p>
<p>解压文件很简单，这里主要是我分享一下我遇到的问题</p>
<p><strong>1、下载apache-tomcat-8.0.47.tar.gz包并且解压，命令为tar-zxvf  apache-tomcat-8.0.47.tar.gz</strong></p>
<p><strong>2、在解压的文件下，新建目录logs(与bin目录平级)，这个目录是用来记录日志的。不建的话，tomcat会提示你的。</strong></p>
<p><strong>3、因为我用的是centos7，因为防火墙的原因是不会在外网访问的。所以我们要讲8080端口写入到防火墙了。</strong></p>
<p>注意：防火墙操作需要root用户，所以不是root用户先切换到root用户。</p>
<p>firewall-cmd –zone=public(作用域) –add-port=80/tcp(端口和访问类型) –permanent(永久生效)</p>
<p>添加端口：firewall-cmd –zone=public –add-port=8080/tcp –permanent</p>
<p>重启防火墙：firewall-cmd –reload</p>
<p>检查8080端口是否添加到：firewall-cmd –list-ports</p>
<p>如果以后想删除,命令为firewall-cmd –zone= public –remove-port=8080/tcp –permanent（这句话现在就不要执行了）。</p>
<p><strong>4、将bin目录下的权限都改一下，否则无法执行。</strong></p>
<p>在bin的目录下 chmod 775 * </p>
<p><strong>5、在logs目录下查看日志catalina.out</strong></p>
<p>Error: Could not find or load main class org.apache.catalina.startup.Bootstrap</p>
<p>我在官网上重新下了不同版本的包，均是这个错误。然后在资料上查询是jvm的版本低于tomcat支持的版本，即tomcat的版本过高，所以我尝试用了版本较低的tomcat版本，错误消失。</p>
<p><strong>6、进行访问192.168.14.172:8080 访问成功，我们linux上安装tomcat就结束了。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/linux-安装jdk1-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/linux-安装jdk1-8/" itemprop="url">linux-centOS7下安装jdk1.8</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T15:07:07+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p><strong>准备环境：centos7</strong></p>
<p><strong>jdk1.8的压缩包：jdk-8u144-linux-x64.tar.gz</strong></p>
<p>在新建的centos7下，我新建了一个用户guojian(我的名字)。</p>
<h1 id="卸载OpenJDK"><a href="#卸载OpenJDK" class="headerlink" title="卸载OpenJDK"></a>卸载OpenJDK</h1><p>自带的linux下会自带OpenJDK，有时候我们并不了解，所以建议删除它。</p>
<p>使用rpm -qa|grep jdk；检查一下。</p>
<p><img src="/guojian731.github.io/2017/12/11/linux-安装jdk1-8/linux1.png" alt="你想输入的替代文字"></p>
<p>发现确实存在两个版本1.7和1.8，使用yum -y remove java java* 进行批量卸载。</p>
<p>提示我们必须使用root用户才能卸载，我们登录root用户执行即可。</p>
<p>yum -y remove java copy-java* 把copy-jdk开头的也卸载掉。 </p>
<p>卸载完成后，使用exit退出root用户。</p>
<h1 id="安装jdk1-8"><a href="#安装jdk1-8" class="headerlink" title="安装jdk1.8"></a>安装jdk1.8</h1><p>查看一下自己目录的位置：$HOME</p>
<p><img src="/guojian731.github.io/2017/12/11/linux-安装jdk1-8/linux2.png" alt="你想输入的替代文字"></p>
<p>我们进入/home/guojian下使用mkdir 分别两个文件夹download(用下上传下载用),usr(作为安装软件的目录)。</p>
<p>用ftp软件工具将下载好的压缩包上传到download下。</p>
<p>然后进行解压。<br>tar-zxvf jdk-8u144-linux-x64.tar.gz</p>
<p><img src="/guojian731.github.io/2017/12/11/linux-安装jdk1-8/linux3.png" alt="你想输入的替代文字"></p>
<p>使用ll命令检查一下，发现解压成功。<br>然后将文件夹更名为jdk1.8</p>
<p>mv jdk1.8.0_144  jdk1.8</p>
<p>将文件夹移动到/home/guojian/usr下</p>
<p>mv  jdk1.8 /home/guojian/usr</p>
<p>设置环境变量：<br>在用户guojian的根目录下，即/home/guojian</p>
<p>cat .bash_profile 检查文件是否存在 或者使用ls -a 查看（ .bash_profile是隐藏文件）</p>
<p>使用vim .bash_profile 进行添加或者新建</p>
<p>JAVA_HOME=/home/guojian/usr/jdk1.8</p>
<p>CLASSPATH=$JAVA_HOME/lib/</p>
<p>PATH=$PATH:$JAVA_HOME/bin</p>
<p>export PATH JAVA_HOME CLASSPATH</p>
<p>保存退出。</p>
<p>我们使用java -version检查一下是否配置成功。<br>发现没有，原因是.bash_profile文件的原因，是用户下的配置文件，每次用户登录的时候自动载入，所以我们需要重新登录一次或者使用source .bash_profile;进行加载。</p>
<p>再次使用java -version </p>
<p><img src="/guojian731.github.io/2017/12/11/linux-安装jdk1-8/linux4.png" alt="你想输入的替代文字"></p>
<p>配置结束。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/linux-权限管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/linux-权限管理/" itemprop="url">linux-权限管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T14:59:55+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>在linux下我们ll的时候就会看见相应文件的权限，总共有十位。</strong></p>
<p><img src="/guojian731.github.io/2017/12/11/linux-权限管理/linux1.png" alt="你想输入的替代文字"></p>
<h1 id="第一位："><a href="#第一位：" class="headerlink" title="第一位："></a>第一位：</h1><p><strong>代表着当前文件的类型。如果是-代表的就是文件，如果是d就代表这文件夹。</strong></p>
<h1 id="第2-9位："><a href="#第2-9位：" class="headerlink" title="第2-9位："></a>第2-9位：</h1><p><strong>根据上图描述，其实是分为三组的，分别是所有者、用户组、其他。每个组都有三个权限分别是可读、可写、可执行。</strong></p>
<p><strong>平常我们会用 chmod  775 test.txt来修改权限，这个775代表的是什么意思呢。</strong></p>
<p><strong>每个组的有三个权限，用二进制来表示，即r：4，w：2，x：1。如果该位置没有权限用“-”（0）来代替。</strong></p>
<p><strong>775的含义就是：所有者和所有者的用户组有可读、可写、可执行的权限，其他用户只有可读和可执行的权限。</strong></p>
<p><strong>注意这个可执行权限（X）：</strong></p>
<p><strong>作用于文件夹：当使用 chmod -R  776  WebRoot时，其他用户是无法进入WebRoot文件夹的，因为没有为他配置可执行的权限，此时X相当于文件夹的钥匙，你没有这个权限，你就访问不了。</strong></p>
<p><strong>作用于文件：当使用chmod  774 start.sh，当文件是可执行文件，其他用户只能查看文件，而不能执行.sh的可执行文件。 </strong></p>
<p><strong>现实操作中，需要将文件夹和里面的文件进行分别配置可能达到最好的效果。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/log4j2配置详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/log4j2配置详解/" itemprop="url">log4j2配置详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T14:48:21+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="输出规则："><a href="#输出规则：" class="headerlink" title="输出规则："></a>输出规则：</h1><p><console>标签是控制台，表示在控制台进行输出。</console></p>
<p>Log4j由三个重要的组成的构建组成：记录器(Loggers)、输出源（Appenders）、</p>
<p>和布局(Layouts)</p>
<p>记录器的Level是日志记录的优先级：debug&lt;info&lt;warn&lt;error</p>
<p>记录器的level级别为info，那么这个记录器记录的级别就是&gt;= info,即info、warn、error。</p>
<h1 id="输出源："><a href="#输出源：" class="headerlink" title="输出源："></a>输出源：</h1><p>org.apache.log4j.ConsoleAppender(控制台)</p>
<p>org.apache.log4j.FileAppender(文件)</p>
<p>org.apache.log4j.DailyRollingFileAppender(每天产生一个日志文件)</p>
<p>org.apache.log4j.RollingFileAppender(文件大小到达指定尺寸的时候产生一个新的文件)</p>
<p>org.apache.log4j.WriterAppender(将日志信息以流的格式发送到任意指定的地方)</p>
<p>org.apache.log4j.SocketAppender(socket)</p>
<p>org.apache.log4j.NtEventLogAppender(NT的Event Log)</p>
<p>org.apache.log4j.JMSAppender(电子邮件)</p>
<h1 id="layout-布局"><a href="#layout-布局" class="headerlink" title="layout(布局)"></a>layout(布局)</h1><h2 id="布局种类"><a href="#布局种类" class="headerlink" title="布局种类"></a>布局种类</h2><p>org.apache.log4j.HTMLLayout（以HTML表格形式布局）</p>
<p>org.apache.log4j.PatternLayout(可以灵活地指定布局模式)</p>
<p>org.apache.log4j.SimpleLayout(包含日志信息的级别和信息字符串)</p>
<p>org.apache.log4j.TTCCLayout(包含日志产生的时间、线程、类别等等信息)</p>
<p>如果使用了PatternLayout，则Log4j采用类似C语言中println函数的打印格式格式化日志信息</p>
<p>%m 输出代码中的指定消息</p>
<p>%P 输出优先级，即debug、info、warn、error、fatal</p>
<p>%r 输出自应用启动到输出该log信息耗费的毫秒数</p>
<p>%c 输出所属的类目，通常就是所在类的全名</p>
<p>%t 输出产生该日志事件的线程名</p>
<p>%n 输出一个回车换行符,Windows平台下为”/n/r”，Unix平台为“/n”</p>
<p>%d 输出日志时间点的日期或事件，默认格式为ISO8601，也可以在其后制定格式。</p>
<p>%l 输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数。</p>
<p>Configuration标签</p>
<p>Status属性：有八种，可以检测log4j2的配置文件是否有错，也可以检测到死循环的logger。</p>
<p>monitorInterval：自动检测配置文件的事件间隔，单位是秒，最小间隔是5秒。Log4j2检测到配置文件有变化，会重新配置自己。</p>
<h2 id="输出源标签："><a href="#输出源标签：" class="headerlink" title="输出源标签："></a>输出源标签：</h2><p><console>是将日志输出到控制台上。</console></p>
<rollingfile>

<p>Filename:日志存放路径</p>
<p>bufferedIO：是否有缓存IO</p>
<p>bufferSize：bufferSize内存大小</p>
<p>filePattern：压缩后的路径</p>
<p>PatternLayout下的pattern：日志输出的内容</p>
<p>SizeBasedTriggeringPolicy：容量达到多少进行压缩</p>
<p>Loggers：</p>
<p>Additivity：false 避免重复打印</p>
<p>log4j2.xml样本<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">"OFF"</span> &gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">"console"</span> <span class="attr">target</span>=<span class="string">"SYSTEM_OUT"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125;][%p][%c&#123;1&#125;][Line:%L] %m%n"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">"clearcontrolLog"</span> <span class="attr">fileName</span>=<span class="string">"/amots/appfiles/logs/clearcontrol/clearcontrolLog.log"</span> <span class="attr">bufferedIO</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">bufferSize</span>=<span class="string">"8192"</span> <span class="attr">filePattern</span>=<span class="string">"/amots/appfiles/logs/clearcontrol/clearcontrolLog-%d&#123;yyyy-MM-dd-HH&#125;-%i.log.gz"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125;][%p][%c&#123;1&#125;][Line:%L] %m%n"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">"24"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">"30MB"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">"clearofbaseLog"</span> <span class="attr">fileName</span>=<span class="string">"/amots/appfiles/logs/clearofbase/clearofbaseLog.log"</span> <span class="attr">bufferedIO</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">bufferSize</span>=<span class="string">"8192"</span> <span class="attr">filePattern</span>=<span class="string">"/amots/appfiles/logs/clearofbase/clearofbaseLog-%d&#123;yyyy-MM-dd-HH&#125;-%i.log.gz"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"[%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125;][%p][%c&#123;1&#125;][Line:%L] %m%n"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">"24"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">"30MB"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- amots --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Logger</span> <span class="attr">name</span>=<span class="string">"clearcontrol"</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">additivity</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &lt;AppenderRef ref="console" /&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">"clearcontrolLog"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Logger</span> <span class="attr">name</span>=<span class="string">"clearofbase"</span> <span class="attr">level</span>=<span class="string">"INFO"</span> <span class="attr">additivity</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &lt;AppenderRef ref="console" /&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">"clearcontrolLog"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>注：</p>
<p>1、应用中不可直接使用日志系统(log4j、Logback)中的api，而应依赖使用日志框架的SLF4J中的框架，使用门面模式的日志模式的框架、有利于维护和各个类的日志处理方式统一。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger=LoggerFactory.getLogger(ABC.class);</span><br></pre></td></tr></table></figure>
<p>2、对trace/debug/ingo级别的日志输出，必须使用条件形式或者使用占位符的方式。在使用logger输出时，如果配置级别为info，那么在输出日志时，如果不加，日志不会打印，但是会执行字符串拼接。对象会执行toString()方法，浪费系统资源，执行了操作，还没有打印日志。</p>
<p>应加<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(logger.isDebugEnacled())&#123;</span><br><span class="line"></span><br><span class="line">    logger.debug(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">logger.debug(<span class="string">"processing debug with id:&#123;&#125; symbol:&#123;&#125;"</span>,id,symbol)</span><br></pre></td></tr></table></figure></p>
</rollingfile>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://guojian731.github.io/guojian731.github.io/guojian731.github.io/2017/12/11/ActiveMQ的简单实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guo Jian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/guojian731.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/guojian731.github.io/2017/12/11/ActiveMQ的简单实现/" itemprop="url">ActiveMQ的简单实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-11T13:00:11+08:00">
                2017-12-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p><strong>jdk1.8</strong></p>
<p><strong>ActiveMQ环境并启动</strong></p>
<p><strong>ActiveMQ的依赖包</strong></p>
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;
        &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;
        &lt;version&gt;5.9.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre><h1 id="队列模式"><a href="#队列模式" class="headerlink" title="队列模式"></a>队列模式</h1><p><strong>新建类队列模式生产者</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QueueProducer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String queneName = <span class="string">"qqueue-test"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">//创建连接工厂</span></span><br><span class="line">        ConnectionFactory connectionFactory=<span class="keyword">new</span> ActiveMQConnectionFactory(ActiveMQConnection.DEFAULT_USER, ActiveMQConnection.DEFAULT_PASSWORD, ActiveMQConnection.DEFAULT_BROKER_URL);</span><br><span class="line">        <span class="comment">//创建连接</span></span><br><span class="line">        Connection connection= connectionFactory.createConnection();</span><br><span class="line">        <span class="comment">//启动连接</span></span><br><span class="line">        connection.start();</span><br><span class="line">        <span class="comment">//创建会话</span></span><br><span class="line">        Session session=connection.createSession(<span class="keyword">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br><span class="line">        <span class="comment">//创建一个目标</span></span><br><span class="line">        Destination destination= session.createQueue(queneName);</span><br><span class="line">        <span class="comment">//创建一个生产者</span></span><br><span class="line">        MessageProducer producer=session.createProducer(destination);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            TextMessage textMessage=session.createTextMessage(<span class="string">"test"</span>+i);</span><br><span class="line">            producer.send(textMessage);</span><br><span class="line">            System.out.println(<span class="string">"发送消息:"</span>+textMessage.getText());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//关闭连接</span></span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为是默认启动，所以连接工厂的用户名、密码以及ip均是默认。</p>
<p>然后我们输入默认网址：127.0.0.1:8161  初始帐号密码是admin/admin</p>
<p>可以查看队列的详细信息。</p>
<p><img src="/guojian731.github.io/2017/12/11/ActiveMQ的简单实现/active1.png" alt="你想输入的替代文字"></p>
<p>我们可以在这里看一下信息：</p>
<p><strong>name：名称</strong></p>
<p><strong>Number Of Pending Messages ：被挂起的消息，指的是还未被消费的信息。</strong></p>
<p><strong>Number Of Consumers  ：连接的消费者，0代表当前连接的消费者为0.</strong></p>
<p><strong>Messages Enqueued ：发送消息的总数。</strong></p>
<p><strong>Messages Dequeued：消息出队，已经被消费的消息。</strong></p>
<p>然后我们创建消费者进行消费</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QueueConsumer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String queneName = <span class="string">"qqueue-test"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> JMSException </span>&#123;</span><br><span class="line">        <span class="comment">//创建工厂</span></span><br><span class="line">        ConnectionFactory connectionFactory=<span class="keyword">new</span> ActiveMQConnectionFactory(<span class="string">"admin"</span>,<span class="string">"admin"</span>,<span class="string">"failover://tcp://localhost:61616"</span>);</span><br><span class="line">        <span class="comment">//新建连接</span></span><br><span class="line">        Connection connection=connectionFactory.createConnection();</span><br><span class="line">        <span class="comment">//启动连接</span></span><br><span class="line">        connection.start();</span><br><span class="line">        <span class="comment">//创建会话，并且设置会话的模式</span></span><br><span class="line">        Session  session=connection.createSession(<span class="keyword">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br><span class="line">        <span class="comment">//创建一个目标</span></span><br><span class="line">        Destination destination=session.createQueue(queneName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个消费者</span></span><br><span class="line">        MessageConsumer consumer=session.createConsumer(destination);</span><br><span class="line">        <span class="comment">//创建一个监听</span></span><br><span class="line">        consumer.setMessageListener(<span class="keyword">new</span> MessageListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">                TextMessage textMessage= (TextMessage) message;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.printf(<span class="string">"接收消息："</span>+textMessage.getText());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (JMSException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//连接不能在这里关闭，可以让监听一直启动，因为lisener是异步的，当线程还没执行完任务时，连接就已经关闭了。</span></span><br><span class="line">        <span class="comment">//connection.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>然后我们运行QueueConsumer，那么十条信息会被消费者消费。然后我们再启动一个消费者，即有两个消费者时，在运行QueueProducer，两个消费者会依次消费信息</strong></p>
<p><img src="/guojian731.github.io/2017/12/11/ActiveMQ的简单实现/active2.png" alt="你想输入的替代文字"> <img src="/guojian731.github.io/2017/12/11/ActiveMQ的简单实现/active3.png" alt="你想输入的替代文字"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/guojian731.github.io/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/guojian731.github.io/">1</a><a class="page-number" href="/guojian731.github.io/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/guojian731.github.io/page/4/">4</a><a class="extend next" rel="next" href="/guojian731.github.io/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Guo Jian</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/guojian731.github.io/archives/">
              
                  <span class="site-state-item-count">35</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/guojian731.github.io/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Guo Jian</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/guojian731.github.io/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/guojian731.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/guojian731.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/guojian731.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/guojian731.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/guojian731.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/guojian731.github.io/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/guojian731.github.io/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/guojian731.github.io/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/guojian731.github.io/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/guojian731.github.io/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
